import{r as l,j as e,L as y,$ as o,S as k}from"./app-DbY0Wq-4.js";import{B as t}from"./button-C_marksC.js";import{C as w,T as C,a as D,b as x,c as d,d as A,e as n,E as T,P as S,f as I}from"./table-Bui4IfdU.js";import{D as m,a as j,b as H,c as M,d as $}from"./dialog-3KputnhH.js";import{A as L}from"./app-layout-CVS7dsaT.js";import{c as O}from"./createLucideIcon-BZJplEbe.js";import"./index-Cr1EvsPd.js";import"./index-DbAbIM8a.js";import"./index-T_xfLq0O.js";import"./index-xWd5qYW4.js";import"./app-logo-icon-CpLEQhHM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],P=O("User",E),B=[{title:"Dashboard",href:"/dashboard"},{title:"Manajemen Anggota",href:"/anggota"}];function W({anggota:h}){var g;const[u,i]=l.useState(!1),[r,p]=l.useState(null),[f,c]=l.useState(!1),[a,b]=l.useState(null),N=()=>{r&&k.delete(`/anggota/${r.id}`,{onSuccess:()=>{i(!1)}})},v=s=>{b(s),c(!0)};return e.jsxs(L,{breadcrumbs:B,children:[e.jsx(y,{title:"Manajemen Anggota"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Anggota"}),e.jsx(t,{asChild:!0,children:e.jsxs(o,{href:"/anggota/create",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Tambah Anggota"]})})]}),e.jsx("div",{className:"bg-card rounded-lg shadow overflow-hidden",children:e.jsxs(C,{children:[e.jsx(D,{children:e.jsxs(x,{children:[e.jsx(d,{children:"NIM"}),e.jsx(d,{children:"Nama"}),e.jsx(d,{children:"Program Studi"}),e.jsx(d,{children:"Angkatan"}),e.jsx(d,{children:"Status"}),e.jsx(d,{className:"text-right",children:"Aksi"})]})}),e.jsx(A,{children:h.length>0?h.map(s=>e.jsxs(x,{children:[e.jsx(n,{children:s.nim}),e.jsx(n,{children:s.nama}),e.jsx(n,{children:s.prodi}),e.jsx(n,{children:s.angkatan}),e.jsx(n,{children:e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs ${s.status==="aktif"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.status})}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>v(s),children:e.jsx(T,{className:"w-4 h-4"})}),e.jsx(t,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(o,{href:`/anggota/${s.id}/edit`,children:e.jsx(S,{className:"w-4 h-4"})})}),e.jsx(t,{variant:"destructive",size:"sm",onClick:()=>{p(s),i(!0)},children:e.jsx(I,{className:"w-4 h-4"})})]})})]},s.id)):e.jsx(x,{children:e.jsx(n,{colSpan:6,className:"text-center py-8",children:"Tidak ada data anggota"})})})]})})]}),e.jsx(m,{open:u,onOpenChange:i,children:e.jsxs(j,{children:[e.jsxs(H,{children:[e.jsx(M,{children:"Konfirmasi Hapus"}),e.jsxs($,{children:["Apakah Anda yakin ingin menghapus anggota ",r==null?void 0:r.nama,"? Tindakan ini tidak dapat dibatalkan."]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(t,{variant:"outline",onClick:()=>i(!1),children:"Batal"}),e.jsx(t,{variant:"destructive",onClick:N,children:"Hapus"})]})]})}),e.jsx(m,{open:f,onOpenChange:c,children:e.jsx(j,{className:"p-0 overflow-hidden max-w-md",children:a&&e.jsxs("div",{id:"id-card-container",className:"bg-background rounded-lg overflow-hidden shadow-md print:shadow-none",children:[e.jsx("div",{className:"bg-primary p-4 text-center",children:e.jsx("h2",{className:"text-primary-foreground text-3xl font-bold",children:((g=a.user)==null?void 0:g.name)||"ID Card"})}),e.jsx("div",{className:"flex justify-center p-4 bg-muted",children:a.foto?e.jsx("img",{src:`/storage/${a.foto}`,alt:a.nama,className:"w-40 h-40 object-cover rounded-md"}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-muted rounded-lg w-40 h-40",children:[e.jsx(P,{className:"w-16 h-16 text-muted-foreground"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Tidak ada foto"})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-center mb-4 text-foreground",children:"Informasi Anggota"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 border-b pb-2",children:[e.jsx("div",{className:"font-bold text-lg text-foreground",children:"NIM"}),e.jsx("div",{className:"text-lg text-foreground",children:a.nim})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 border-b pb-2",children:[e.jsx("div",{className:"font-bold text-lg text-foreground",children:"Nama Lengkap"}),e.jsx("div",{className:"text-lg text-foreground",children:a.nama})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 border-b pb-2",children:[e.jsx("div",{className:"font-bold text-lg text-foreground",children:"Program Studi"}),e.jsx("div",{className:"text-lg text-foreground",children:a.prodi})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 border-b pb-2",children:[e.jsx("div",{className:"font-bold text-lg text-foreground",children:"Angkatan"}),e.jsx("div",{className:"text-lg text-foreground",children:a.angkatan})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 border-b pb-2",children:[e.jsx("div",{className:"font-bold text-lg text-foreground",children:"Status"}),e.jsx("div",{className:"text-lg text-foreground",children:a.status})]})]})]}),e.jsxs("div",{className:"p-4 bg-muted flex justify-end space-x-2",children:[e.jsx(t,{variant:"outline",onClick:()=>c(!1),children:"Tutup"}),e.jsx(t,{asChild:!0,children:e.jsx(o,{href:`/anggota/${a.id}/edit`,children:"Edit Data"})})]})]})})}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @media print {
          body * {
            visibility: hidden;
          }
          #id-card-container, #id-card-container * {
            visibility: visible;
          }
          #id-card-container {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            box-shadow: none !important;
          }
        }
      `}})]})}export{W as default};
