import{r as d,j as e,L as w,$ as h,S as T}from"./app-CQfCMIYS.js";import{B as i}from"./button-Y0wUwqdR.js";import{C,T as B,a as S,b as x,c,d as H,e as l,P as p,f as M}from"./table-DWhOZKKm.js";import{D as f,a as g,b as z,c as L,d as O}from"./dialog-Bc9cFKBY.js";import{A as $}from"./app-layout-oTkQsD31.js";import{E as A}from"./eye-Dr1AAp7g.js";import{c as E}from"./createLucideIcon-iyXRXUlh.js";import"./utils-jAU0Cazi.js";import"./index-DkA2Vu7c.js";import"./index-CYVH1HkH.js";import"./app-logo-icon-9lYVABJ9.js";import"./users-CaUid8N4.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],P=E("FileText",I),_=[{title:"Dashboard",href:"/dashboard"},{title:"Manajemen Berita",href:"/berita"}];function Y({berita:m}){var u;const[b,r]=d.useState(!1),[t,v]=d.useState(null),[N,o]=d.useState(!1),[a,k]=d.useState(null),y=()=>{t&&T.delete(`/berita/${t.id}`,{onSuccess:()=>{r(!1)}})},D=s=>{k(s),o(!0)},j=s=>{const n={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString("id-ID",n)};return e.jsxs($,{breadcrumbs:_,children:[e.jsx(w,{title:"Manajemen Berita"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Berita"}),e.jsx(i,{asChild:!0,children:e.jsxs(h,{href:"/berita/create",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Tambah Berita"]})})]}),e.jsx("div",{className:"bg-card rounded-lg shadow overflow-hidden",children:e.jsxs(B,{children:[e.jsx(S,{children:e.jsxs(x,{children:[e.jsx(c,{children:"Judul"}),e.jsx(c,{children:"Tanggal"}),e.jsx(c,{children:"Penulis"}),e.jsx(c,{className:"text-right",children:"Aksi"})]})}),e.jsx(H,{children:m.length>0?m.map(s=>{var n;return e.jsxs(x,{children:[e.jsx(l,{className:"font-medium",children:s.judul}),e.jsx(l,{children:j(s.tanggal)}),e.jsx(l,{children:(n=s.user)==null?void 0:n.name}),e.jsx(l,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>D(s),children:e.jsx(A,{className:"w-4 h-4"})}),e.jsx(i,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(h,{href:`/berita/${s.id}/edit`,children:e.jsx(p,{className:"w-4 h-4"})})}),e.jsx(i,{variant:"destructive",size:"sm",onClick:()=>{v(s),r(!0)},children:e.jsx(M,{className:"w-4 h-4"})})]})})]},s.id)}):e.jsx(x,{children:e.jsx(l,{colSpan:4,className:"text-center py-8",children:"Tidak ada data berita"})})})]})})]}),e.jsx(f,{open:b,onOpenChange:r,children:e.jsxs(g,{children:[e.jsxs(z,{children:[e.jsx(L,{children:"Konfirmasi Hapus"}),e.jsxs(O,{children:['Apakah Anda yakin ingin menghapus berita "',t==null?void 0:t.judul,'"? Tindakan ini tidak dapat dibatalkan.']})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(i,{variant:"outline",onClick:()=>r(!1),children:"Batal"}),e.jsx(i,{variant:"destructive",onClick:y,children:"Hapus"})]})]})}),e.jsx(f,{open:N,onOpenChange:o,children:e.jsx(g,{className:"max-w-4xl p-0",children:a&&e.jsxs("div",{id:"berita-detail-container",className:"bg-background overflow-auto",children:[e.jsx("div",{className:"relative w-full h-48 md:h-64 bg-primary/10",children:a.gambar?e.jsx("img",{src:`/storage/${a.gambar}`,alt:a.judul,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(P,{className:"w-12 h-12 text-muted-foreground"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Tidak ada gambar"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:a.judul}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[e.jsx("span",{children:j(a.tanggal)}),e.jsx("span",{className:"mx-2",children:"â€¢"}),e.jsx("span",{children:(u=a.user)==null?void 0:u.name})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>o(!1),children:"Tutup"}),e.jsx(i,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(h,{href:`/berita/${a.id}/edit`,children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Edit"]})})]})]}),e.jsx("div",{className:"prose prose-sm md:prose-base prose-headings:text-foreground prose-p:text-foreground dark:prose-invert max-w-none border-t pt-4",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:a.isi}})})]})]})})})]})}export{Y as default};
